"use strict";

var makeModuleEnv = require("make-module-env");
var path = require("path");


module.exports = function createFakeModuleEnvironment(requireFrom) {
  if (requireFrom && requireFrom[requireFrom.length - 1] === path.sep) {
    // Trim off trailing slash
    requireFrom = requireFrom.slice(0, -1);
  }
  var dirname = requireFrom || process.cwd();
  var filename = path.join(dirname, "this-file-doesnt-actually-exist.js");

  return makeModuleEnv(filename);
};